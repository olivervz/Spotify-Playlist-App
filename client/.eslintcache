[{"/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/index.js":"1","/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/Login.js":"2","/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/Home.js":"3","/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/App.js":"4","/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/components/Footer.js":"5","/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/Privacy.js":"6","/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/About.js":"7"},{"size":271,"mtime":1611681568691,"results":"8","hashOfConfig":"9"},{"size":644,"mtime":1611641541951,"results":"10","hashOfConfig":"9"},{"size":6101,"mtime":1611689794235,"results":"11","hashOfConfig":"9"},{"size":924,"mtime":1611640051846,"results":"12","hashOfConfig":"9"},{"size":1686,"mtime":1611640044866,"results":"13","hashOfConfig":"9"},{"size":287,"mtime":1611636669755,"results":"14","hashOfConfig":"9"},{"size":279,"mtime":1611636659559,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"qylbei",{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/index.js",[],"/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/Login.js",["33"],"import \"./Login.css\";\nimport \"./components/Footer\";\nimport React, { Component } from \"react\";\nimport Footer from \"./components/Footer\";\n\nfunction Login() {\n  return (\n    <>\n      <main>\n        <div classname=\"button-div\">\n          <button\n            onClick={() => (window.location = \"http://localhost:8888/login\")}\n            className=\"login-button\"\n            style={{\n              padding: \"20px\",\n              \"font-size\": \"50px\",\n              \"margin-top\": \"20px\",\n            }}\n          >\n            Sign in with spotify\n          </button>\n        </div>\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default Login;\n","/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/Home.js",["34","35","36"],"import \"./Home.css\";\nimport \"./App.js\";\nimport \"./components/Footer\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Footer from \"./components/Footer\";\nclass Home extends Component {\n  state = {\n    access_token: null,\n    country: null,\n    name: null,\n    email: null,\n    ID: null,\n    profile_picture: null,\n    tracks: [],\n    show_tracks: false,\n  };\n\n  componentDidMount() {\n    // Get OAuth token from URL\n    // This is needed for API requests\n    let URL = window.location.toString();\n    let access_token = URL.substring(URL.indexOf(\"/Home/\") + \"/Home/\".length);\n\n    const headers = {\n      Accept: \"application/json\",\n      Authorization: \"Bearer \" + access_token,\n    };\n    axios\n      .get(\"https://api.spotify.com/v1/me\", {\n        headers: headers,\n      })\n      .then((res) => {\n        this.setState({\n          country: res.data.country,\n          name: res.data.display_name,\n          email: res.data.email,\n          ID: res.data.id,\n          profile_picture: res.data.images[0].url,\n          access_token: access_token,\n        });\n      });\n  }\n\n  // https://medium.com/@perryjanssen/getting-random-tracks-using-the-spotify-api-61889b0c0c27\n  getRandomSearch = () => {\n    // A list of all characters that can be chosen.\n    const characters = \"abcdefghijklmnopqrstuvwxyz\";\n\n    // Gets a random character from the characters string.\n    const randomCharacter = characters.charAt(\n      Math.floor(Math.random() * characters.length)\n    );\n    // let randomSearch = randomCharacter + \"%20\";\n    let randomSearch = \"\";\n\n    // Places the wildcard character at the beginning, or both beginning and end, randomly.\n    switch (Math.round(Math.random())) {\n      case 0:\n        randomSearch = randomCharacter + \"%20\";\n        break;\n      case 1:\n        randomSearch = \"%20\" + randomCharacter + \"%20\";\n        break;\n    }\n\n    return randomSearch;\n  };\n\n  // https://medium.com/@perryjanssen/getting-random-tracks-using-the-spotify-api-61889b0c0c27\n  getRandomOffset = () => {\n    return Math.floor(Math.random() * 2000);\n  };\n\n  //To retrieve only albums with the lowest 10% popularity, use the field filter tag:hipster in album searches. Note: This field filter only works with album searches.\n  generateTrack = async () => {\n    const headers = {\n      Accept: \"application/json\",\n      Authorization: \"Bearer \" + this.state.access_token,\n    };\n    let search = this.getRandomSearch();\n    console.log(\"SEARCH\");\n    console.log(search);\n    let offset = this.getRandomOffset();\n    let type = \"track\";\n    let url =\n      \"https://api.spotify.com/v1/search?q=\" +\n      search +\n      \"&type=\" +\n      type +\n      \"&offset=\" +\n      offset.toString();\n    await axios\n      .get(url, {\n        headers: headers,\n      })\n      .then((res) => {\n        this.setState({\n          // tracks: tracks.concat(res.data.tracks.items[0]),\n          tracks: [...this.state.tracks, res.data.tracks.items[0]],\n        });\n      });\n    return \"Success\";\n  };\n\n  // Issue when defining as standard non-arrow function\n  // Can't access this.state\n  generatePlaylist = async () => {\n    // If re-generating without having created the playlist\n    // clear current tracks and regenerate\n    if (this.state.tracks.length > 0) {\n      this.setState({\n        tracks: [],\n      });\n    }\n\n    // Generate 20 tracks\n    for (let i = 0; i < 20; i++) {\n      await this.generateTrack();\n    }\n    this.state.show_tracks = true;\n    this.forceUpdate();\n  };\n\n  populatePlaylist = async (playlist_id) => {\n    let url =\n      \"https://api.spotify.com/v1/playlists/\" + playlist_id + \"/tracks?uris=\";\n    let uris = \"\";\n    const headers = {\n      Accept: \"application/json\",\n      Authorization: \"Bearer \" + this.state.access_token,\n    };\n    for (let i = 0; i < this.state.tracks.length; i++) {\n      url += \"spotify%3Atrack%3A\" + this.state.tracks[i].id;\n      if (i != this.state.tracks.length - 1) {\n        url += \"%2C\";\n      }\n      uris += \"spotify:track:\" + this.state.tracks[i].id;\n      if (i != this.state.tracks.length - 1) {\n        uris += \",\";\n      }\n    }\n    console.log(url);\n\n    await axios.post(url, uris, { headers: headers }).then((res) => {\n      console.log(res);\n    });\n  };\n\n  createPlaylist = async () => {\n    console.log(\"Create Playlist\");\n    const headers = {\n      Accept: \"application/json\",\n      Authorization: \"Bearer \" + this.state.access_token,\n    };\n    const body = {\n      name: \"Random Spotify Playlist\",\n      description: \"Randomly Created by My App\",\n      public: true,\n    };\n    let url =\n      \"https://api.spotify.com/v1/users/\" + this.state.ID + \"/playlists\";\n    await axios.post(url, body, { headers: headers }).then((res) => {\n      console.log(res);\n      this.populatePlaylist(res.data.id);\n    });\n    this.state.show_tracks = false;\n    this.setState({\n      tracks: [],\n    });\n    this.forceUpdate();\n  };\n\n  render() {\n    // whenever setState() is called, we have access in the render method\n    let tracks = null;\n    if (this.state.show_tracks) {\n      tracks = this.state.tracks.map((track) => (\n        <li>\n          <div>\n            <img src={track.album.images[2].url} alt={track.album.name}></img>\n            <h1>{track.name}</h1>\n            <h2>{track.artists[0].name}</h2>\n          </div>\n        </li>\n      ));\n    }\n    return (\n      <>\n        <div className=\"container\">\n          <main>\n            <h1>HOMEPAGE</h1>\n            <p>Name: {this.state.name}</p>\n            <p>ID: {this.state.ID}</p>\n            <p>Email: {this.state.email}</p>\n            <p>Country: {this.state.country}</p>\n            <p>access_token: {this.state.access_token}</p>\n            <img src={this.state.profile_picture} alt=\"Profile Pic\"></img>\n            <button onClick={this.generatePlaylist}> Generate Playlist </button>\n            {this.state.show_tracks ? (\n              <button onClick={this.createPlaylist}> Create Playlist</button>\n            ) : null}\n            <ul>{tracks}</ul>\n          </main>\n        </div>\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default Home;\n","/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/App.js",[],"/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/components/Footer.js",["37","38","39","40","41"],"import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Footer.css\";\n\nfunction Footer() {\n  let LoginLogout;\n\n  if (\n    window.location.pathname != \"/login\" &&\n    window.location.pathname != \"/\" &&\n    window.location.pathname != \"/login/\"\n  ) {\n    LoginLogout = (\n      <Link to=\"/login\" className=\"nav-links\">\n        LOGOUT\n      </Link>\n    );\n  } else {\n    LoginLogout = (\n      <Link\n        onClick={() => (window.location = \"http://localhost:8888/login\")}\n        className=\"nav-links\"\n      >\n        LOGIN\n      </Link>\n    );\n  }\n\n  return (\n    <>\n      <nav className=\"navbar\">\n        <div className=\"navbar-container\">\n          <ul className=\"nav-menu\">\n            <li className=\"nav-item\">{LoginLogout}</li>\n            <li className=\"nav-item\">\n              <Link to=\"/about\" className=\"nav-links\">\n                ABOUT\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link to=\"/privacy\" className=\"nav-links\">\n                PRIVACY\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <a\n                href=\"https://github.com/olivervz/Spotify-Playlist-App\"\n                className=\"nav-links\"\n              >\n                <i class=\"icon-linkedin\"></i>\n                Github\n              </a>\n            </li>\n            <li className=\"nav-item\">\n              <a href=\"https://linkedin.com/in/olivervz/\" className=\"nav-links\">\n                <i class=\"icon-github\"></i>\n                Linkedin\n              </a>\n            </li>\n          </ul>\n        </div>\n      </nav>\n    </>\n  );\n}\n\nexport default Footer;\n","/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/Privacy.js",["42"],"/home/oliver/Documents/Personal/Spotify-Playlist-App/client/src/About.js",["43"],{"ruleId":"44","severity":1,"message":"45","line":3,"column":17,"nodeType":"46","messageId":"47","endLine":3,"endColumn":26},{"ruleId":"48","severity":1,"message":"49","line":58,"column":5,"nodeType":"50","messageId":"51","endLine":65,"endColumn":6},{"ruleId":"52","severity":1,"message":"53","line":135,"column":13,"nodeType":"54","messageId":"55","endLine":135,"endColumn":15},{"ruleId":"52","severity":1,"message":"53","line":139,"column":13,"nodeType":"54","messageId":"55","endLine":139,"endColumn":15},{"ruleId":"44","severity":1,"message":"56","line":1,"column":17,"nodeType":"46","messageId":"47","endLine":1,"endColumn":25},{"ruleId":"44","severity":1,"message":"57","line":1,"column":27,"nodeType":"46","messageId":"47","endLine":1,"endColumn":36},{"ruleId":"52","severity":1,"message":"53","line":9,"column":30,"nodeType":"54","messageId":"55","endLine":9,"endColumn":32},{"ruleId":"52","severity":1,"message":"53","line":10,"column":30,"nodeType":"54","messageId":"55","endLine":10,"endColumn":32},{"ruleId":"52","severity":1,"message":"53","line":11,"column":30,"nodeType":"54","messageId":"55","endLine":11,"endColumn":32},{"ruleId":"44","severity":1,"message":"45","line":3,"column":17,"nodeType":"46","messageId":"47","endLine":3,"endColumn":26},{"ruleId":"44","severity":1,"message":"45","line":3,"column":17,"nodeType":"46","messageId":"47","endLine":3,"endColumn":26},"no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'useState' is defined but never used.","'useEffect' is defined but never used."]